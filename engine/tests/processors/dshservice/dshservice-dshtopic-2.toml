[processor]
processor-technology = "dshservice"
processor-realization-id = "dshservice2"
label = "Test DSH Service 2"
description = "Test profiles 2"
version = "0.1.2"

[inbound-junctions.inbound-topic]
junction-technology = "dshtopic"
label = "Test inbound topic"
description = "Test inbound topic description"

[outbound-junctions.outbound-topic]
junction-technology = "dshtopic"
label = "Test outbound topic"
description = "Test outbound topic description"
minimum-number-of-connections = 1
maximum-number-of-connections = 2

[deploy]
parameters = [
    { type = "boolean", id = "bool1", label = "B1", description = "DB1" },
    { type = "boolean", id = "bool2", label = "B2", description = "DB2", optional = true, default = "true" },
    { type = "boolean", id = "bool3", label = "B3", description = "DB3", initial-value = "true" },
    { type = "free-text", id = "free1", label = "F1", description = "DF1" },
    { type = "free-text", id = "free2", label = "F2", description = "DF2", initial-value = "I2" },
    { type = "free-text", id = "free3", label = "F3", description = "DF3", optional = true, default = "D3" },
    { type = "free-text", id = "free4", label = "F4", description = "DF4", initial-value = "I4", optional = true, default = "D4" },
    { type = "selection", id = "sel1", label = "S1", description = "DS1", options = ["s11"] },
    { type = "selection", id = "sel2", label = "S2", description = "DS2", options = [{ id = "sx1", label = "SX1" }, { id = "sx2", label = "SX2", description = "D2" }], optional = true, default = "sx2" },
    { type = "selection", id = "sel3", label = "S3", description = "DS3", options = [{ id = "sx1", label = "SX1" }, "s11"], initial-value = "s11" },
    { type = "selection", id = "sel4", label = "S4", description = "DS4", options = ["s11"], initial-value = "s11", optional = true, default = "s11" }
]

[dshservice]

image = "test-image:0.1.2-SNAPSHOT"
needs-token = true
single-instance = false
spread-group = "SPREAD_GROUP"

[[dshservice.profiles]]
profile-id = "profile"
label = "Profile 2"
description = "Profile 2"
cpus = 1
instances = 1
mem = 1
